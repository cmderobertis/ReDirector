{% extends 'base.html' %}{% block title %} Login | ReDirector {% endblock title
%}{% block content %}
<div class="row m-0 justify-content-center">
  <div class="mt-3 col-lg-6 col-md-6 col-sm-8">
    <div class="mb-3 card card-dark">
      <h5 class="card-header">Login</h5>
      <div class="card-body">
        {% with messages = get_flashed_messages(with_categories = True) %}
        <form action="/login" method="post">
          <input type="hidden" name="last_route" value="{{last_route}}" />
          <div class="form-floating mb-3">
            <input
              type="text"
              name="username_email"
              id="username_email"
              class="form-control"
              placeholder="name@example.com"
              required
            />
            <label for="username_email">Username or Email</label>
          </div>
          {% if messages %} {% for category, message in messages %} {% if
          category == 'username_email' %}
          <span class="form-text text-danger">{{message}}</span>
          {% endif %} {% endfor %} {% endif %}
          <div class="mb-3">
            <div class="form-floating">
              <input
                type="password"
                name="log_password"
                id="log_password"
                class="form-control"
                placeholder="Password"
                required
              />
              <label for="log_password">Password</label>
            </div>
            {% if messages %} {% for category, message in messages %} {% if
            category == 'log_password' %}
            <span class="form-text text-danger">{{message}}</span>
            {% endif %} {% endfor %} {% endif %}
          </div>
          <div class="d-flex justify-content-end">
            <input type="submit" value="Login" class="btn btn-success" />
          </div>
        </form>
        {% endwith %}
      </div>
    </div>
    <div class="row text-center">
      <div class="col">
        <a class="btn btn-dark" href="/registration"
          >Need an account? Register here</a
        >
      </div>
    </div>
  </div>
</div>
{% endblock content %}
